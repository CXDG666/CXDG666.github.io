"use strict";(self["webpackChunktoutiao"]=self["webpackChunktoutiao"]||[]).push([[88],{6196:function(){},2666:function(){},4867:function(t,e,n){n.d(e,{e:function(){return b},M:function(){return S}});n(7658);var o={zIndex:2e3,lockCount:0,stack:[],find:function(t){return this.stack.filter((function(e){return e.vm===t}))[0]},remove:function(t){var e=this.find(t);if(e){e.vm=null,e.overlay=null;var n=this.stack.indexOf(e);this.stack.splice(n,1)}}},i=n(9299),a=n(2778),s=n(4771),l=n(1015),r={className:"",customStyle:{}};function c(t){return(0,s.LI)(a.Z,{on:{click:function(){t.$emit("click-overlay"),t.closeOnClickOverlay&&(t.onClickOverlay?t.onClickOverlay():t.close())}}})}function u(t){var e=o.find(t);if(e){var n=t.$el,a=e.config,s=e.overlay;n&&n.parentNode&&n.parentNode.insertBefore(s.$el,n),(0,i.Z)(s,r,a,{show:!0})}}function d(t,e){var n=o.find(t);if(n)n.config=e;else{var i=c(t);o.stack.push({vm:t,config:e,overlay:i})}u(t)}function h(t){var e=o.find(t);e&&(e.overlay.show=!1)}function f(t){var e=o.find(t);e&&((0,l.Z)(e.overlay.$el),o.remove(t))}var v=n(5781),p=n(8161),m=n(3969);function y(t){return"string"===typeof t?document.querySelector(t):t()}function k(t){var e=void 0===t?{}:t,n=e.ref,o=e.afterPortal;return{props:{getContainer:[String,Function]},watch:{getContainer:"portal"},mounted:function(){this.getContainer&&this.portal()},methods:{portal:function(){var t,e=this.getContainer,i=n?this.$refs[n]:this.$el;e?t=y(e):this.$parent&&(t=this.$parent.$el),t&&t!==i.parentNode&&t.appendChild(i),o&&o.call(this)}}}}var g=n(5590),C={mixins:[(0,g.X)((function(t,e){this.handlePopstate(e&&this.closeOnPopstate)}))],props:{closeOnPopstate:Boolean},data:function(){return{bindStatus:!1}},watch:{closeOnPopstate:function(t){this.handlePopstate(t)}},methods:{onPopstate:function(){this.close(),this.shouldReopen=!1},handlePopstate:function(t){if(!this.$isServer&&this.bindStatus!==t){this.bindStatus=t;var e=t?v.on:v.S1;e(window,"popstate",this.onPopstate)}}}},S={transitionAppear:Boolean,value:Boolean,overlay:Boolean,overlayStyle:Object,overlayClass:String,closeOnClickOverlay:Boolean,zIndex:[Number,String],lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0}};function b(t){return void 0===t&&(t={}),{mixins:[m.D,C,k({afterPortal:function(){this.overlay&&u()}})],provide:function(){return{vanPopup:this}},props:S,data:function(){return this.onReopenCallback=[],{inited:this.value}},computed:{shouldRender:function(){return this.inited||!this.lazyRender}},watch:{value:function(e){var n=e?"open":"close";this.inited=this.inited||this.value,this[n](),t.skipToggleEvent||this.$emit(n)},overlay:"renderOverlay"},mounted:function(){this.value&&this.open()},activated:function(){this.shouldReopen&&(this.$emit("input",!0),this.shouldReopen=!1)},beforeDestroy:function(){f(this),this.opened&&this.removeLock(),this.getContainer&&(0,l.Z)(this.$el)},deactivated:function(){this.value&&(this.close(),this.shouldReopen=!0)},methods:{open:function(){this.$isServer||this.opened||(void 0!==this.zIndex&&(o.zIndex=this.zIndex),this.opened=!0,this.renderOverlay(),this.addLock(),this.onReopenCallback.forEach((function(t){t()})))},addLock:function(){this.lockScroll&&((0,v.on)(document,"touchstart",this.touchStart),(0,v.on)(document,"touchmove",this.onTouchMove),o.lockCount||document.body.classList.add("van-overflow-hidden"),o.lockCount++)},removeLock:function(){this.lockScroll&&o.lockCount&&(o.lockCount--,(0,v.S1)(document,"touchstart",this.touchStart),(0,v.S1)(document,"touchmove",this.onTouchMove),o.lockCount||document.body.classList.remove("van-overflow-hidden"))},close:function(){this.opened&&(h(this),this.opened=!1,this.removeLock(),this.$emit("input",!1))},onTouchMove:function(t){this.touchMove(t);var e=this.deltaY>0?"10":"01",n=(0,p.Ob)(t.target,this.$el),o=n.scrollHeight,i=n.offsetHeight,a=n.scrollTop,s="11";0===a?s=i>=o?"00":"01":a+i>=o&&(s="10"),"11"===s||"vertical"!==this.direction||parseInt(s,2)&parseInt(e,2)||(0,v.PF)(t,!0)},renderOverlay:function(){var t=this;!this.$isServer&&this.value&&this.$nextTick((function(){t.updateZIndex(t.overlay?1:0),t.overlay?d(t,{zIndex:o.zIndex++,duration:t.duration,className:t.overlayClass,customStyle:t.overlayStyle}):h(t)}))},updateZIndex:function(t){void 0===t&&(t=0),this.$el.style.zIndex=++o.zIndex+t},onReopen:function(t){this.onReopenCallback.push(t)}}}}},2778:function(t,e,n){var o=n(3915),i=n.n(o),a=n(9299),s=n(855),l=n(3370),r=n(4771),c=n(5781),u=(0,s.d)("overlay"),d=u[0],h=u[1];function f(t){(0,c.PF)(t,!0)}function v(t,e,n,o){var s=(0,a.Z)({zIndex:e.zIndex},e.customStyle);return(0,l.Xq)(e.duration)&&(s.animationDuration=e.duration+"s"),t("transition",{attrs:{name:"van-fade"}},[t("div",i()([{directives:[{name:"show",value:e.show}],style:s,class:[h(),e.className],on:{touchmove:e.lockScroll?f:l.ZT}},(0,r.ED)(o,!0)]),[null==n.default?void 0:n.default()])])}v.props={show:Boolean,zIndex:[Number,String],duration:[Number,String],className:null,customStyle:Object,lockScroll:{type:Boolean,default:!0}},e["Z"]=d(v)},8848:function(t,e,n){n.d(e,{Z:function(){return I}});n(7658);var o=n(9299),i=n(6369),a=n(855),s=n(3370),l=0;function r(t){t?(l||document.body.classList.add("van-toast--unclickable"),l++):(l--,l||document.body.classList.remove("van-toast--unclickable"))}var c=n(4867),u=n(9858),d=n(4958),h=(0,a.d)("toast"),f=h[0],v=h[1],p=f({mixins:[(0,c.e)()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var t=this.value&&this.forbidClick;this.clickable!==t&&(this.clickable=t,r(t))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var t=this.$createElement,e=this.icon,n=this.type,o=this.iconPrefix,i=this.loadingType,a=e||"success"===n||"fail"===n;return a?t(u.Z,{class:v("icon"),attrs:{classPrefix:o,name:e||n}}):"loading"===n?t(d.Z,{class:v("loading"),attrs:{type:i}}):void 0},genMessage:function(){var t=this.$createElement,e=this.type,n=this.message;if((0,s.Xq)(n)&&""!==n)return"html"===e?t("div",{class:v("text"),domProps:{innerHTML:n}}):t("div",{class:v("text")},[n])}},render:function(){var t,e=arguments[0];return e("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[e("div",{directives:[{name:"show",value:this.value}],class:[v([this.position,(t={},t[this.type]=!this.icon,t)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),m=n(1015),y={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},k={},g=[],C=!1,S=(0,o.Z)({},y);function b(t){return(0,s.Kn)(t)?t:{message:t}}function x(t){return document.body.contains(t)}function $(){if(s.sk)return{};if(g=g.filter((function(t){return!t.$el.parentNode||x(t.$el)})),!g.length||C){var t=new(i.ZP.extend(p))({el:document.createElement("div")});t.$on("input",(function(e){t.value=e})),g.push(t)}return g[g.length-1]}function O(t){return(0,o.Z)({},t,{overlay:t.mask||t.overlay,mask:void 0,duration:void 0})}function Z(t){void 0===t&&(t={});var e=$();return e.value&&e.updateZIndex(),t=b(t),t=(0,o.Z)({},S,k[t.type||S.type],t),t.clear=function(){e.value=!1,t.onClose&&(t.onClose(),t.onClose=null),C&&!s.sk&&e.$on("closed",(function(){clearTimeout(e.timer),g=g.filter((function(t){return t!==e})),(0,m.Z)(e.$el),e.$destroy()}))},(0,o.Z)(e,O(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout((function(){e.clear()}),t.duration)),e}var P=function(t){return function(e){return Z((0,o.Z)({type:t},b(e)))}};["loading","success","fail"].forEach((function(t){Z[t]=P(t)})),Z.clear=function(t){g.length&&(t?(g.forEach((function(t){t.clear()})),g=[]):C?g.shift().clear():g[0].clear())},Z.setDefaultOptions=function(t,e){"string"===typeof t?k[t]=e:(0,o.Z)(S,t)},Z.resetDefaultOptions=function(t){"string"===typeof t?k[t]=null:(S=(0,o.Z)({},y),k={})},Z.allowMultiple=function(t){void 0===t&&(t=!0),C=t},Z.install=function(){i.ZP.use(p)},i.ZP.prototype.$toast=Z;var I=Z},8146:function(t,e,n){n(1958),n(6196),n(3332),n(6742),n(2666),n(2939)},1015:function(t,e,n){function o(t){var e=t.parentNode;e&&e.removeChild(t)}n.d(e,{Z:function(){return o}})},4535:function(t,e,n){function o(t,e,n){return Math.min(Math.max(t,e),n)}function i(t,e,n){var o=t.indexOf(e),i="";return-1===o?t:"-"===e&&0!==o?t.slice(0,o):("."===e&&t.match(/^(\.|-\.)/)&&(i=o?"-0":"0"),i+t.slice(0,o+1)+t.slice(o).replace(n,""))}function a(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),t=e?i(t,".",/\./g):t.split(".")[0],t=n?i(t,"-",/-/g):t.replace(/-/,"");var o=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(o,"")}n.d(e,{uf:function(){return a},w6:function(){return o}})}}]);
//# sourceMappingURL=88.ada0260f.js.map