"use strict";(self["webpackChunktoutiao"]=self["webpackChunktoutiao"]||[]).push([[89],{8633:function(t,e,o){o.r(e),o.d(e,{default:function(){return f}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"all"},[e("div",{staticClass:"pubhead"},[t._v("发布")]),e("div",{staticClass:"pubtitle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e("div",{staticClass:"cate"},[e("div",{staticStyle:{"margin-left":"10px"}},[t._v("请选择你要发布的地方")]),e("div",{staticClass:"choose"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.id=e.target.multiple?o:o[0]}}},[e("option",{domProps:{value:t.jrtt}},[t._v("今日头条")]),e("option",{domProps:{value:t.essc}},[t._v("二手市场")]),e("option",{domProps:{value:t.hljy}},[t._v("婚恋交友")]),e("option",{domProps:{value:t.zxzs}},[t._v("装修装饰")]),e("option",{domProps:{value:t.mrtt}},[t._v("明日头条")]),e("option",{domProps:{value:t.llsc}},[t._v("劳力市场")])])])]),e("div",{staticClass:"pubcontent"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticStyle:{"word-break":"break-all"},attrs:{placeholder:"请输入内容"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),e("div",{staticClass:"tu"},[e("van-uploader",{attrs:{multiple:""},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),e("div",{staticClass:"btn"},[e("van-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")])],1)])},a=[],i=(o(8146),o(8848)),s=(o(8),o(2614)),l=(o(9491),o(6450)),r=(o(606),o(4398)),c=(o(7658),o(70)),u=o(691),d={name:"public",data(){return{title:"",content:"",fileList:[],id:"",jrtt:["610128169b33ed00018ed5df","今日头条"],essc:["60e83b96827eca0001ba827c","装修装饰"],hljy:["609e99d6935e5b0001eaf4f2","游戏专区"],zxzs:["60e83b96827eca0001ba827c","装修装饰"],mrtt:["60e83bd9f6a3980001a11be5","明日头条"],llsc:["61863e3519452d00017f1a8c","劳力市场"],a:123}},components:{[r.Z.name]:r.Z,[l.Z.name]:l.Z,[s.Z.name]:s.Z},methods:{submit(){(0,c.ZP)({method:"get",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/upload/token"}).then((t=>{let e=new FormData;e.append("token",t.data.token),e.append("file",this.fileList[0].file),e.append("key",(0,u.x0)()),(0,c.ZP)({method:"post",url:"https://upload-z1.qiniup.com",data:e}).then((t=>{console.log("http://toutiao.longxiaokj.com/"+t.data.key),(0,c.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/add_article",data:{title:this.title,content:this.content,cate_id:this.id[0],cate_name:this.id[1],author_id:localStorage.getItem("uid"),imageSrc:["http://toutiao.longxiaokj.com/"+t.data.key]}}).then((t=>{if(!localStorage.getItem("token"))return(0,i.Z)("请先登录");"成功"===t.data.msg?((0,l.Z)({type:"primary",message:"发布成功",duration:1e3}),this.$router.push("/index")):(0,l.Z)({type:"warning",message:t.data.msg,duration:1e3})}))}))}))}}},p=d,m=o(1001),v=(0,m.Z)(p,n,a,!1,null,"23949d80",null),f=v.exports},6450:function(t,e,o){o.d(e,{Z:function(){return Z}});var n=o(9299),a=o(6369),i=o(3915),s=o.n(i),l=o(855),r=o(4771),c=o(4867),u=o(6811),d=(0,l.d)("notify"),p=d[0],m=d[1];function v(t,e,o,n){var a={color:e.color,background:e.background};return t(u.Z,s()([{attrs:{value:e.value,position:"top",overlay:!1,duration:.2,lockScroll:!1},style:a,class:[m([e.type]),e.className]},(0,r.ED)(n,!0)]),[(null==o.default?void 0:o.default())||e.message])}v.props=(0,n.Z)({},c.M,{color:String,message:[Number,String],duration:[Number,String],className:null,background:String,getContainer:[String,Function],type:{type:String,default:"danger"}});var f,h,g=p(v),b=o(3370);function k(t){return(0,b.Kn)(t)?t:{message:t}}function y(t){if(!b.sk)return h||(h=(0,r.LI)(g,{on:{click:function(t){h.onClick&&h.onClick(t)},close:function(){h.onClose&&h.onClose()},opened:function(){h.onOpened&&h.onOpened()}}})),t=(0,n.Z)({},y.currentOptions,k(t)),(0,n.Z)(h,t),clearTimeout(f),t.duration&&t.duration>0&&(f=setTimeout(y.clear,t.duration)),h}function C(){return{type:"danger",value:!0,message:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:null,onClick:null,onOpened:null}}y.clear=function(){h&&(h.value=!1)},y.currentOptions=C(),y.setDefaultOptions=function(t){(0,n.Z)(y.currentOptions,t)},y.resetDefaultOptions=function(){y.currentOptions=C()},y.install=function(){a.ZP.use(g)},y.Component=g,a.ZP.prototype.$notify=y;var Z=y},9491:function(t,e,o){o(1958),o(6196),o(3332),o(6742),o(2666)},6811:function(t,e,o){var n=o(855),a=o(3370),i=o(4867),s=o(9858),l=(0,n.d)("popup"),r=l[0],c=l[1];e["Z"]=r({mixins:[(0,i.e)()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(o){return t.$emit(e,o)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},methods:{onClickCloseIcon:function(t){this.$emit("click-close-icon",t),this.close()}},render:function(){var t,e=arguments[0];if(this.shouldRender){var o=this.round,n=this.position,i=this.duration,l="center"===n,r=this.transition||(l?"van-fade":"van-popup-slide-"+n),u={};if((0,a.Xq)(i)){var d=l?"animationDuration":"transitionDuration";u[d]=i+"s"}return e("transition",{attrs:{appear:this.transitionAppear,name:r},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:u,class:c((t={round:o},t[n]=n,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(s.Z,{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:c("close-icon",this.closeIconPosition),on:{click:this.onClickCloseIcon}})])])}}})}}]);
//# sourceMappingURL=89.d6238881.js.map